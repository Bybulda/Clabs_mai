# Seminar 5 Hash table and Unix commands

Hash table - динамический массив, состоящий из n элементов. где n - степень двойки

##### Добавление элемента
Чтобы положить элемент в массив - мы вычисляемм значение хэш функции от элемента, потом берется остаток от деления на размер массива

##### Коллизия
Данные сравниваем по компаратору, при этом хэш функции от одних данных могут быть не равны

###### Принцип дерихле
Если данных больше чем хешей, то некоторые хеши могут совпадать

##### Хэш функция добавление в си
I) [][][$x_1$][]...[][] - ht
add(&ht, $x_2$);

двигаясь по таблице для добавления элемента следует сдвигаться на некоторую константу C,
такую что НОД(N, C) == 1
(h(x) % N) = k

[][][][][]...[]
0 -> n - 1
$h_1, h_2, h_3...,h_n$
Данные в таблице неизменяемые и уникальные

##### Разрешение коллизий с помощью метода цепочки
хэш таблица с элементами - списками(массив списков)
list* p = ht.h(x) % ht.Ns
сложность поиска в худшем случае - O(n), в лучшем O($\frac{n}{N}$), где n - количество записей, N - размер массива

Если вместо списков использовать деревья, то только AVL

## Unix commands
System V r4 OR POSIX.1b, экзамен на System V r4
(man7.org - документация по системным вызовам, обязательно к просмотру)
- sem - семафоры
- msg - очереди сообщений
- shm - разделяемая память
- map

Как запустить

функция fork() - создает копию процесса, возвращает int
возвращает -1 если процесс не удалось создать
возвращает 2 значения, если получилось создать процесс, дочернему возвращается 0, родителю фозвращается pid дочернего
Далее: если в дочернем, то делаем exec(с флагами) приложения

Семейство функций exec по флагам:
- l - list -- список аргументов переменной длины
- v - vector - массив элементов
- vp - vector path
- le - list environment
- vpe - vector path environment
- lp - list path

```c
int execl(const char* path, char*, ...); // последний аргумент это (char*)NULL
```

#### Процессы
- Серверный
- Клиентский
- os kernel

Прототипы функций:
-  msgsnd(int msg_desc, void* data, size_t data_len, long msg_type, int msg_flags) -- дескриптор, указатель на данные, длина данных, где size_t - беззнаковый тип - синоним, тип сообщения, флаг, определяющий способ отправки сообщения в очередь

```c
struct msg{
  int mtypee;
  unsigned char buf[SIZE];
  size_t len;
};
```

Битовые поля - репрезентация битов числа
```c
#define ... 0x1, 0x2..0x10  // биты на местах, 0x10 - 16, 0x20 - 32
```

Copyright (c) 2022 Copyright Holder All Rights Reserved.
